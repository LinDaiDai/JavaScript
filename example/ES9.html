<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ES9</title>
</head>

<body>
    <dialog id="demo-modal">
        <h3 class="modal-header">A native modal dialog box</h3>
        <div class="modal-body">
            <p>Finally, HTML has a native dialog box element! This is fantastic.</p>
            <p>And a polyfill makes this usable today.</p>
        </div>
        <footer class="modal-footer">
            <button id="close" onclick="closeDialog()" type="button">close</button>
        </footer>
    </dialog>
    <div>woshisdisufoisdafioasf</div>
    <button onclick="clickDialog()">按钮</button>
    <script>
        const modal = document.querySelector('dialog');
        function clickDialog() {
            // 使对话框出现（添加 `open` 属性）
            modal.showModal();
        }
        function closeDialog() {
            // 隐藏对话框（移除 `open` 属性）
            modal.close();
        }



        //finally
        // let count = () => {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             resolve(100)
        //         }, 1000);
        //     })
        // }
        // let list = () => {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             resolve([1, 2, 3])
        //         }, 1000);
        //     })
        // }

        // let getList = async () => {
        //     let c = await count()
        //     console.log('async')
        //     let l = await list()
        //     return { count: c, list: l }
        // }
        // console.time('start');
        // getList().then(res => {
        //     console.log(res)
        // })
        //     .catch(err => {
        //         console.timeEnd('start')
        //         console.log(err)
        //     })
        //     .finally(() => {
        //         console.log('finally')
        //     }) 

        //...运算符
        //Rest用法
        // var obj = {
        //     a: 1,
        //     b: 2,
        //     c: 3
        // }
        // const { a, ...param } = obj;
        // console.log(a)
        // console.log(param)

        //Spread用法
        // function foo({a, ...param}) {
        //     console.log(a);
        //     console.log(param)
        // }
        // foo(obj);
        // var obj = {
        //     name: 'LinDaiDai',
        //     looks: 'handsome',
        //     foo() {
        //         console.log('old');
        //     },
        //     set setLooks(newVal) {
        //         this.looks = newVal
        //     },
        //     get getName() {
        //         console.log(this.name)
        //     }
        // }

        // var cloneObj = {...obj};
        // cloneObj.foo = function() {
        //     console.log('new')
        // };
        // console.log(obj)     
        // // { name: 'LinDaiDai',looks: 'handsome', foo: f foo(), get getName:f getName(), set setLooks: f setLooks(newVal)}
        // console.log(cloneObj)
        // // { name: 'LinDaiDai',looks: 'handsome', foo: f foo(), getName: undefined, setLooks: undefined }
        // obj.foo()
        // // old
        // cloneObj.foo()

        //正则表达式命名捕获组
        // const reDate = /(\d{4})-(\d{2})-(\d{2})/,
        //     match = reDate.exec('2018-08-06')
        // console.log(match);

        // const reDate = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/,
        //         match = reDate.exec('2018-08-06'),
        //         d = '2018-08-06'
        //         USADate = d.replace(reDate, '$<month>-$<day>-$<year>');
        //     console.log(match);
        //     console.log(USADate);
        // const reName = /(?<sur>[a-zA-Z]+)-(?<name>[a-zA-Z]+)/;
        //       Chinese = 'Lin-DaiDai',
        //       USA = Chinese.replace(reName, '$<name>-$<sur>');
        // console.log(USA);

        //断言
        // const reLookahead = /\D(?=\d+)/,
        //       match = reLookahead.exec('$123.45');
        // console.log(match[0]); // $

        //反向断言
        // const reLookahead = /(?<!\D)[\d\.]+/;
        //       match = reLookahead.exec('$123.45');
        // console.log(match);

        //         console.log(/hello.world/.test('hello\nworld'))
        //         console.log(/hello.world/s.test(`hello\nworld`))
        //         console.log(/hello.world/s.test(`hello
        // world`))
        // const reGreekSymbol = /\p{Script=Greek}/u;
        // console.log(reGreekSymbol.test('π')); // true
        // function doSomething(item) {
        //     console.log(item);
        //     return new Promise(resolve => {
        //         setTimeout(() => {
        //             resolve(item);
        //         }, (5 / item) * 1000);
        //     });
        // }

        // async function process(array) {
        //     for (let i of array) {
        //         const result = await doSomething(i);
        //         console.log(result);
        //     }
        // }

        // const arr = [1, 2, 3, 4, 5];
        // process(arr);
    </script>
</body>

</html>