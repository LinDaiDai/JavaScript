<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>随机验证码</title>
	<style type="text/css">
		.father{
			float: left;
			height: 40px;
			width: 80px;
			margin: 0;
			padding: 0;
			line-height: 40px;
			text-align: center;
			background: #808080;
		}
		span{
			margin: 0;
			padding: 0;
			font-size: 20px;
			color: #AB9425;
			font-weight: bold;
		}
		#update{
			display: block;
			float: left;
			font-size: 14px;
			margin-top: 20px;
			font-style: italic;
		}
	</style>
</head>
<body>
<div class="father">
<span id="span1">1</span>
<span>2</span>
<span>3</span>
<span>4</span>
</div>
<a id="update" href="javascript:;">看不清,换一个</a>
	<script type="text/javascript">

	var update = document.getElementById('update');
	//点击a标签更新随机数
	update.onclick=function(){
		click();
	}
	//执行自动生成随机数的函数
	click();
	//定义点击a标签能执行刷新的函数
	function click(){
		//获取4个span标签,并组成一个数组;
		var spans = document.getElementsByTagName('span');
		//调用random()函数并把返回值赋给数组arrNew;
		var arrNew = random(4);
		//把得到的四个随机数的数组依次赋值给span标签
		for(var j=0;j<spans.length;j++){
			spans[j].innerHTML=arrNew[j];
		}
		//定义一个能取n个随机数,并把n个随机数放到数组里的函数,函数返回新得到的数组;
		function random(n){
		    var randomNumber = [];		//存放随机数库中的所有随机数;
			var arr = new Array();		//存放获取到的随机数
			//将26个小写字母和大写字母存入数组randomNumber中;
			for(var i=0;i<26;i++){
			    randomNumber.push(String.fromCharCode(97+i)); //26个小写字母
			    randomNumber.push(String.fromCharCode(97+i).toUpperCase());
			}
			//将10个数字存入数组randomNumber中;
				for(var i=0;i<10;i++){
			    randomNumber.push(i);
			}
			//随机取随机数库中的随机数的下标并赋值给index;
            for(var i=0;i<n;i++){
                var index = randomInt(0,randomNumber.length-1);
                arr.push(randomNumber[index]);
            }
			return arr;
		}
	}
		//定义一个随机生成一个从from到to的随机数
		function randomInt(from,to){
	    	var num =parseInt((Math.random()*(to+1-from))+from);
			return num;
		}

	</script>
</body>
</html>